# 演出日历

一个简洁的演出事件管理日历应用，支持事件管理、标签配置、数据导出/导入及设置调整。采用手绘蜡笔风格的黑白基调设计，确保跨设备（电脑/移动端）响应式布局。

## 功能特性

### 🗓️ 日历视图
- 月历网格显示，周一起始
- 点击日期添加/编辑事件
- 事件名称、颜色、类型小点显示
- 当月事件详情汇总

### ✏️ 事件编辑
- 多选事件类型（Live/干饭/旅行/运动）
- 事件名称、地点、城市输入
- 颜色选择器（预设色块+自定义RGB）
- 保存/删除/取消操作

### 🏷️ 标签管理
- 事件类型颜色配置（固定4种类型）
- 地点预设管理（增删）
- 城市预设管理（增删）
- 全局标签同步

### 📸 图片导出
- 月份范围选择（2023/1-2099/12）
- 高清PNG图片生成
- 手绘风格完整保留
- 事件信息完整显示

### 📊 数据管理
- 事件查询筛选
- CSV格式导出（适合Excel）
- JSON格式导出（完整备份）
- 数据导入合并/覆盖

### ⚙️ 应用设置
- 字体选择与自定义
- 数据统计显示
- 一键数据清除
- 版本信息查看

## 技术架构

- **前端框架**: Next.js 14 + TypeScript
- **样式系统**: Tailwind CSS + 自定义CSS
- **数据存储**: 浏览器 LocalStorage
- **部署平台**: Vercel（推荐）
- **图片处理**: html2canvas
- **文件处理**: PapaParse + FileSaver

## 项目结构

```
src/
├── app/                    # Next.js App Router页面
│   ├── calendar/          # 日历页面
│   ├── tags/              # 标签编辑页面
│   ├── export-image/      # 图片导出页面
│   ├── export-data/       # 数据导出页面
│   ├── settings/          # 设置页面
│   ├── layout.tsx         # 根布局
│   └── globals.css        # 全局样式
├── components/            # React组件
│   ├── CalendarPage.tsx   # 日历主页面
│   ├── CalendarGrid.tsx   # 日历网格组件
│   ├── EventDetails.tsx   # 事件详情组件
│   ├── EditModal.tsx      # 事件编辑弹窗
│   ├── ColorPicker.tsx    # 颜色选择器
│   ├── Menu.tsx           # 导航菜单
│   ├── Layout.tsx         # 布局组件
│   └── ...
├── lib/                   # 工具库
│   ├── storage.ts         # 数据存储管理
│   ├── calendar.ts        # 日历计算逻辑
│   └── export.ts          # 导出功能
└── types/                 # TypeScript类型定义
    └── index.ts
```

## 快速开始

### 安装依赖
```bash
npm install
```

### 启动开发服务器
```bash
npm run dev
```

访问 [http://localhost:3000](http://localhost:3000) 查看应用。

### 构建生产版本
```bash
npm run build
npm start
```

## 使用说明

### 1. 添加事件
1. 在日历页面点击任意日期
2. 选择事件类型（至少1项）
3. 填写事件名称（必填）
4. 选择或输入地点、城市（可选）
5. 选择事件颜色
6. 点击保存

### 2. 管理标签
1. 进入"标签编辑"页面
2. 修改事件类型颜色
3. 添加/删除地点预设
4. 添加/删除城市预设

### 3. 导出数据
**图片导出**:
1. 进入"导出图片"页面
2. 选择月份范围
3. 预览效果
4. 下载PNG图片

**数据导出**:
1. 进入"导出数据"页面
2. 选择月份范围筛选
3. 选择导出格式（CSV/JSON）
4. 下载文件

### 4. 导入数据
1. 准备CSV或JSON格式文件
2. 在"导出数据"页面选择文件
3. 选择覆盖或合并模式
4. 确认导入

## 响应式设计

应用完全支持响应式布局：

- **桌面端**: 完整功能，菜单侧边栏显示
- **平板端**: 适配中等屏幕尺寸
- **手机端**: 菜单可收起，触摸优化，小屏友好

## 数据格式

### 事件数据结构
```typescript
interface Event {
  id: string              // 唯一标识
  date: string            // YYYY-MM-DD格式日期
  types: string[]         // 事件类型数组
  name: string            // 事件名称
  location: string        // 地点
  city: string           // 城市
  color: string          // 颜色代码(#RRGGBB)
}
```

### CSV导入格式
```csv
日期,类型,名称,地点,城市,颜色
2024-01-15,Live;音乐会,周杰伦演唱会,梅赛德斯奔驰文化中心,上海,#FF6B6B
2024-02-14,干饭,情人节晚餐,外滩,上海,#FFC107
```

### JSON导入格式
```json
{
  "events": [
    {
      "id": "custom-id",
      "date": "2024-01-15",
      "types": ["Live"],
      "name": "演唱会",
      "location": "体育馆",
      "city": "北京",
      "color": "#FF6B6B"
    }
  ]
}
```

## 浏览器支持

- Chrome 80+
- Firefox 75+
- Safari 13+
- Edge 80+

## 开发者指南

### 添加新功能
1. 在`src/types/`中定义类型
2. 在`src/lib/`中实现业务逻辑
3. 在`src/components/`中创建UI组件
4. 在`src/app/`中添加路由页面

### 样式规范
- 使用CSS变量进行主题控制
- 遵循手绘蜡笔风格设计
- 确保响应式兼容性
- 优先使用Tailwind工具类

### 数据持久化
- 使用`storage.ts`统一管理数据
- 遵循类型安全原则
- 实现数据验证和错误处理

## 部署

### Vercel部署（推荐）
1. 推送代码到GitHub
2. 在Vercel中导入项目
3. 自动部署完成

### 其他平台
```bash
npm run build
# 将 .next 文件夹部署到静态托管服务
```

## 许可证

MIT License

## 更新日志

### v1.0.0 (2024-01)
- ✅ 基础日历功能
- ✅ 事件管理
- ✅ 标签编辑
- ✅ 数据导入导出
- ✅ 响应式设计
- ✅ 手绘风格界面